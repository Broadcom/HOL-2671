# Default values for amko.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1

image:
  repository: projects.registry.vmware.com/ako/amko
  pullPolicy: IfNotPresent

# Configs related to AMKO Federator
federation:
  # image repository
  image:
    repository: projects.registry.vmware.com/ako/amko-federator
    pullPolicy: IfNotPresent
  # cluster context where AMKO is going to be deployed
  currentCluster: 'sitea'
  # Set to true if AMKO on this cluster is the leader
  currentClusterIsLeader: true
  # member clusters to federate the GSLBConfig and GDP objects on, if the
  # current cluster context is part of this list, the federator will ignore it
  memberClusters:
  - sitea
  - siteb

configs:
  gslbLeaderController: '192.168.110.87'
  controllerVersion: 22.1.3
  memberClusters:
  - clusterContext: sitea
  - clusterContext: siteb
  refreshInterval: 1800
  logLevel: INFO

  useCustomGlobalFqdn: true

gslbLeaderCredentials:
  username: 'admin'
  password: 'VMware1!'

globalDeploymentPolicy:
  matchClusters:
  - cluster: sitea
  - cluster: siteb

  appSelector:
    label:
      app: gslb

  ttl: 10
  lbAlgorithm: GSLB_ALGORITHM_ROUND_ROBIN


serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name:

resources:
  limits:
    cpu: 250m
    memory: 300Mi
  requests:
    cpu: 100m
    memory: 200Mi

service:
  type: ClusterIP
  port: 80

rbac:
  # creates the pod security policy if set to true
  pspEnable: false

persistentVolumeClaim: ''
mountPath: /log
logFile: amko.log

federatorLogFile: amko-federator.log